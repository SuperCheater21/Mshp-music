{% extends "base.html" %}


{% block title %} Playlist {% endblock title %}

{% block block_head %}

<script>
    Handlebars.registerHelper('counter', function() {
     this.counter = this.counter || 0;
        return this.counter++;
     });
</script>
{% endblock block_head %}

{% block content %}
    <div class="entry">
    {% if exist %}
        <h1> {{ playlist.title }} </h1>
        <p>playlist of {{ profile.user.username }}</p>
        <img class="rounded-circle account-img" src="../../media/{{profile.image}}" alt="{{profile.user.username}}'s profile picture" /> <br>

        <p><b>Artist:</b></p>

        <ul>
            {% for artist in artists %}
                <li><a href="/artist/{{this.slug}}" style="color:black;"> {{ artist }}</a></li>
            {% endfor %}
        </ul>

        <br>

        <p><b>Songs:</b></p>
        <ul>
            {% for song in songs %}
                <li> <a href="play" style="color:black;">{{ song.song_name }}</a> </li>
            {% endfor %}
        </ul>  <br>

        {% if is_your_playlist %}
            <button class="btn btn-dark btn-lg"><a href="../change">Change Your Playlist</a> </button>
        {% else %}
            <button class="btn btn-dark btn-lg"><a href="/like">Like</a> </button>
        {% endif %}

        {% for message in messages %}
					<p id="messages">{{ message }}</p>
		{% endfor %}
    {% else %}
        <h1>Such playlist does not exist</h1>
    {% endif %}
    </div>


{% endblock content%}